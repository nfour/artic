
@require './lib/selectize.css'
@require './lib/codemirror.css'
@require './lib/date.css'

@require './helpers'

body, img, p, pre, div, span, object, blockquote, a, address, cite, code, em, tt, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tr, th, td, article, canvas, embed, footer, header, menu, nav, output, section, summary, time, mark, audio, video, input, textarea, h1, h2, h3, h4, h5, h6
	-moz-box-sizing		: border-box
	-webkit-box-sizing	: border-box
	box-sizing			: border-box

$verticalFix =
	content			: ''
	display			: inline-block
	width			: 0
	height			: 100%
	vertical-align	: middle
	font-size		: 0

$row =
	display: block
	font-size: 0
	vertical-align: middle

	&:before
		{ $verticalFix }

	&.justify
		text-justify: distribute-all-lines
		
		&:before
			content: none

	&.justify:after
		content: ''
		display: inline-block
		width: 100%

$col =
	text-align: left
	display: inline-block
	vertical-align: top

.row
	{ $row }

.col
	{ $col }

.row-col
	{ $col }
	font-size: 0
	width: 100%
	

.table
	display: table

	> .row
		display: table-row

	.cell
		vertical-align: top
		display: table-cell

.center
	&, &.col, &.row
		text-align: center
.justify
	&, &.col, &.row
		text-align: justify
.left
	&, &.col, &.row
		text-align: left
.right
	&, &.col, &.row
		text-align: right

.middle
	&, &.col, &.row, > .cell
		vertical-align: middle

.top
	&, &.col, &.row, > .cell
		vertical-align: top

.bottom
	&, &.col, &.row, > .cell
		vertical-align: bottom

.baseline
	&, &.col, &.row, > .cell
		vertical-align: baseline

body
	margin: 0
	font-family: "Open Sans"

body, .col
	font-size: 14px

strong
	font-weight: 600

h1, h2, h3, h4
	font-weight: 300
	margin: 0
	line-height: 1.35em

h1
	font-size: 30px
	margin-bottom: 10px

h2
	font-size: 25px
	margin-bottom: 4px

h3
	font-size: 20px

i
	font-size: 16px
	vertical-align: middle
	dsplay: inline-block

a
	text-decoration: none

input
	font-family: inherit
	font-size: inherit
	
	&:focus
		outline: none


// Main styling

$bodyBgColor	= #fff
$color			= #808080
$activeColor	= #B60C0C

input
	border: 0

a
	color: inherit
	display: inline-block
	text-decoration: none

	&, &:active
		outline: 0 !important

textarea
	font-family: "Consolas", "Courier", monospace !important


strong, b
	font-weight: 700

body
	font-size: 14px
	font-family: 'Open Sans'
	color: $color

	background-color: $bodyBgColor
html, body, .container
	height: 100%

.textAlignCenter { text-align: center }
.textAlignLeft { text-align: left }
.textAlignRight { text-align: right }
.textAlignJustify { text-align: justify }

.floatRight { float: right }
.floatLeft { float: left }

.clearfix
	&:before,
	&:after
		content: " "
		display: table

	&:after
		clear: both

.container
	width: 100%
	display: table

.menu, .core
	display: table-cell

.menu
	height: 100%
	width: 150px
	vertical-align: top
	font-size: 12px
	//border-radius: 0 0 20px 0
	padding-bottom: 40px
	
	color: $color * 1.3
	background-color: #323232

	transition: background-color 0.2s

	.info // site name, user info
		padding: 15px 8px 15px 12px
		line-height: 1.6em

		background-color: #0002

	&:hover
		color: $color * 1.2
		background-color: #2a2a2a

		.tab
			color: #ccc
			&[data-active]
				color: #eee
				background-color: #293943
				//background-color: #333

	.tab // top level tab
		padding: 7px 24px 6px 12px
		font-size: 13px

		color: #aaa
		text-shadow: 0 -1px 0 #0004
		border-bottom: 1px solid #0002
		transition: background-color 0.3s, color 0.6s

		&[data-active]
			color: #cfcfcf
			background-color: #2C4254
			//background-color: #393939
			text-shadow: 0 0 15px #fff8, 0 1px 0 #000a
			border-bottom-color: #0004

			.pointer
				display: block

		&:hover
			color: #dfdfdf

			.pointer
				opacity: 1

			&, &[data-active]
				background-color: #363636
				text-shadow: 0 0 15px #fffb, 0 1px 0 #000d
				border-bottom-color: #0004
				cursor: pointer

	.tabChildren
		.tab
			padding: 5px 24px 6px 11px
			font-size: 12px

			&:before
				display: inline-block
				content: "━"
				padding-right: 4px
				font-family: monospace
				font-size: 12px
				position: relative
				top: -1px
				opacity: 0.3

	.pointer
		display: none
		float: right
		width: 0
		height: 0
		margin-right: -24px
		margin-top: 4px

		border-top: 6px solid transparent
		border-bottom: 6px solid transparent
		border-right: 6px solid $bodyBgColor

.core
	padding: 15px 10px 15px 15px
	font-size: 13px

	color: #999

	/*
	
	 a
		display: inline-block
		padding: 0 1px 1px

		border-bottom: 1px dotted #5BB1D23f
		text-decoration: none
		color: #555
		text-shadow: 0 1px 0 #5BB1D256

		&:hover
			text-shadow: 0 1px 0 #5BB1D2cc
			border-bottom-color: #5BB1D2
			background-color: #5BB1D208
	*/

//
// EDITOR
//

.editor
	min-width: 600px
	max-width: 1200px

	::-moz-placeholder
		font-style: italic
		font-size: 90%

	::-webkit-placeholder
		font-style: italic
		font-size: 90%
	
.editor .CodeMirror,
.editorTitle
	border: 2px solid #eee

.editorTitle
	margin: 3px 0 8px
	width: 100%

	padding: 8px 10px

	font-family: "Georgia"
	font-size: 16px
	background-color: #fff
	border-bottom-color: #eee
	border-radius: 3px
	resize: none
	color: #9a9a9a
	box-shadow: 0 1px 8px 0 #00000004

.editorHeaderMeta
	padding: 0 0 8px 6px

	font-size: 12px
	opacity: 0.75
	transition: opacity 0.2s

	&:hover
		opacity: 1

.editor
	.blocks
		.block
			padding-bottom: 12px

		.row
			width: 100%

		> .skeleton
			display: none

		.col
			width: 50%

			&.input
				padding-right: 20px

			&.output
				padding-top: 30px

		.input input
			padding: 4px 12px 5px
			margin: 4px 0 -2px
			border: 2px solid #F0F0F0
			font-size: 12px

			display: block
			width: 50%
			min-width: 200px

		.input.monospaced
			font-family: 'Consolas', monospace

		.keyInput
			&[readonly]
				border: 0
				padding-bottom: 10px
				background-color: transparent


	.prettyTable
		padding-right: 0
		width: auto
		min-width: 400px

		.label
			//color: $color + #101010
			padding-right: 12px
			//font-weight: normal
			text-align: right
			width: 1px
			white-space: nowrap

		margin-bottom: 10px
	
	.CodeMirror, input
		transition: border 0.2s ease
		color: #888
		position: relative

	input:focus, .CodeMirror-focused
		z-index: 2
		color: #666
		border-color: #EDD6D6 !important
		box-shadow: 0 1px 8px 0 #00000008
		
.datePicker:hover
	cursor: pointer
	color: #000

.CodeMirror
	height: auto
	min-height: 100px
	padding: 8px
	line-height: 1.2em

	border-radius: 3px
	font-family: inherit
	color: #a5a5a5

.editor .input
	.CodeMirror
		height: auto
		min-height: 0

		.CodeMirror-lines
			min-height: 1.8em


.CodeMirror-scroll
	overflow-y: hidden
	overflow-x: auto

.editorMeta
	table
		width: 100%

		.label
			width: 0px
	.button
		margin-right: 6px

	.smallButton
		margin-right: 4px

	.editorSwitches
		margin-bottom: 6px

	.editorMetaFooter
		padding-top: 10px

		.editorSwitchButtons
			float: left

		.editorSubmitButtons
			float: right

//
// Select box
//

.selectBox
	label, .selectize-control
		display: inline-block
	
	label
		padding: 10px 14px 10px 6px
		width: 80px
		vertical-align: top
		
		text-align: right

	.selectize-control
		min-width: 200px

//
// SETTINGS
//

[data-tab-content="settings"]
	max-width: 1020px

$redLabelColor	= #D17070
$labelColor		= $redLabelColor

.prettyTable
	$borderColor		= #fcfcfc
	$innerBorderColor	= #f2f2f2
	$tableColor			= $color + #050505

	::-moz-placeholder
		font-style: italic
		font-size: 90%

	::-webkit-placeholder
		font-style: italic
		font-size: 90%

	padding: 6px

	border: 2px solid $borderColor
	border-top-color: $borderColor + #020202
	border-bottom-color: $borderColor - #040404
	border-radius: 2px 2px 4px 4px
	background-color: #fff

	.label
		text-transform: capitalize
		font-weight: 600
		color: $labelColor

	> thead
		> tr
			> td
				padding: 0 14px 7px
				text-align: center
				font-weight: 500
				//font-family: 'roboto'
				color: $labelColor

	> tbody
		color: $tableColor

		> tr
			&:last-child
				> td
					border-bottom: 0

			> td
				padding: 5px 7px 6px
			
				border: 1px solid $innerBorderColor + 60%
				border-bottom-color: $innerBorderColor + 30%
				border-width: 0 2px 2px 0
				border-radius: 4px
				//transition: box-shadow 0.2s ease 0.1s

				&.label
					padding-right: 6px

				&:last-child
					border-right: 0
	td.constrained
		width: 20px
		text-align: center

		textarea
			text-align: center

	.alignCenter
		text-align: center

	.alignLeft
		text-align: left



	textarea
		width: 100%
		height: 2.35em
		min-width: 20px
		padding: 3px 4px

		border: 3px solid transparent
		border-radius: 1px
		font-family: monospace
		font-size: 12px
		color: inherit
		resize: none
		outline: none
		transition: outline 0.1s ease
		overflow: auto
		box-shadow: 0 0 0 2px #8181811c
		color: #555
		resize: vertical

		&[data-editable]:hover
			box-shadow: 0 0 0 2px #81818110

		&[readonly]
			box-shadow: none
			color: #aaa

//
// Editables
//

.itemsGroup
	float: left
	max-width: 380px
	padding: 0 18px
	padding-left: 0
	margin-bottom: 15px

	&.flexWidth
		width: 100%
		max-width: 800px
		min-width: 400px

	&.nowrap
		td
			white-space: nowrap

	.heading
		padding: 0 14px 8px

		font-size: 15px
		font-weight: 200

		color: #949494
		text-transform: capitalize

	.prettyTable
		width: 100%

		> tbody > tr > td.info
			padding: 8px 7px 9px

		td
			vertical-align: middle

		.value
			padding: 8px 4px 9px 10px

		.info
			width: 140px

			.label
				font-size: 13px
				//font-family: 'roboto'
				font-weight: 500

		.description
			padding: 3px 0 4px
			line-height: 1.2em

		.description,
		.description2
			font-size: 11px
			display: block
			color: #A6A6A6

		.description2
			display: none
			position: absolute
			margin-left: -20px
			margin-top: 6px
			padding: 8px 10px 10px
			width: 493px
			text-align: center

			background-color: #fff
			border-radius: 3px
			box-shadow: 0 0 0 2px #78ADD84a, 0 2px 12px 0 #00000008

		.description2Icon:hover + * + * + .description2
			display: block

		.description2Icon
			display: none
			float: right
			padding: 1px 6px 0
			margin: 1px -3px -40px 0

			font-size: 14px
			font-family: monospace
			text-align: center
			font-style: italic

			border-radius: 4px
			background-color: #fcfcfc
			color: #A0BBCF
			text-shadow: 0 1px 0 #fff

			&:hover
				box-shadow: 0 0 6px 0 #00000005, 0 0 0 1px #00000008 inset
				cursor: pointer
				color: $labelColor

		tr:hover
			.label
				color: $redLabelColor
				
			.description2Icon
				display: block

.core .itemsGroup
	margin-left: -8px

			
//
// Editable Controls
//
// Consider nesting this to give seperate styling for different instances
.editableControls
	position: absolute
	padding: 4px
	top: 1px

	background: #fff
	border-radius: 2px
	box-shadow: 0 0 0 2px #0000000c, 0 2px 12px 0 #00000008
	font-size: 11px
	color: $color

	> div
		display: inline-block
		padding: 3px 8px

		&:hover
			cursor: pointer
			color: $labelColor

	//[data-button]

	&[data-hidden]
		display: none

	.controlsStatus
		width: 12px
		height: 12px
		vertical-align: middle

		border-radius: 30px
		background-color: #FFF2CC

		&[data-hidden]
			display: none

		&[data-state="success"]
			background-color: #ECFFC4

		&[data-state="failure"]
			background-color: #FFDCD7
		
//
// POPUPS
//

.popup
	display: none
	position: fixed
	z-index: 5
	width: 100%
	height: 100%
	top: 0
	background-color: #0000000a
	font-size: 13px

	&[data-active]
		display: table

		&.staticPopup
			display: block

	&.smallPopup
		.popupInner2
			width: 40%
			min-width: 400px
			max-width: 550px

	&.largePopup
		.popupInner2
			width: 80%
			min-width: 1020px
			max-width: 1200px

	.popupInner1
		display: table-cell
		vertical-align: middle

	.popupInner2
		width: 65%
		min-width: 650px
		max-width: 1000px
		margin: 0 auto

.prettyPopup
	.popupInner2
		border: 2px solid #D9D9D9
		border-radius: 2px
		background-color: #fdfdfd
		box-shadow: 0 1px 12px 0 #0000000d

	.popupHead
		padding: 8px 16px 9px
		background-color: #f9f9f9

		text-align: center
		color: #5488A5
		font-size: 14px
		line-height: 17px

	.popupBody
		padding: 14px 16px
		text-align: center

	.popupNote
		background: #F9F4EA
		border-radius: 2px
		margin: 3px 0 10px
		padding: 8px 12px
		font-size: 12px
		color: #858585

		&.errorColor
			background: #FBEEEE
			color: #8C5B5B

//
// button
//

.button
	position: relative
	display: inline-block
	padding: 6px 13px
	vertical-align: bottom

	font-family: inherit
	color: #444
	font-size: 12px
	font-weight: 200
	border: 1px solid transparent
	border-color: #00000015 #0000001a #0000001f
	border-width: 1px 1px 2px
	border-radius: 1px
	background-color: #fff
	vertical-align: middle

	-webkit-user-select: none
	-moz-user-select: none
	-ms-user-select: none
	user-select: none

	&:hover
		border-color: #00000026 #00000029 #0000002f
		box-shadow: 0 1px 6px 0 #0000000a
		cursor: pointer
		color: lighten( $activeColor, 10% )

	&:active, &:focus, &.active, &[data-active]
		border-width: 1px
		border-color: #0000002c #00000022 #0000001f
		box-shadow: 0 1px 3px 0 #00000004 inset, 0 1px 8px 0 #00000006 inset
		//bottom: -1px
		padding-top: 7px
		outline: none

		&.switchButton
			border-color: #54B7E76c #54B7E762 #54B7E74f
			color: #588FA5
			text-decoration: none

.smallButton
	@extend .button

	padding: 3px 8px 4px
	font-size: 11px

	&:active, &.active, &[data-active]
		padding-top: 4px

button.button
	padding: 6px 13px 6px

.prettyTable
	.button
		padding: 5px 12px 5px
		font-size: 11px

	button.button
		padding: 4px 10px 4px

.articlesPage
	min-width: 1020px

.articlesList
	width: 40%
	float: left

.articleWindow
	width: 60%
	padding: 4px 16px
	float: left

	.prettyTable
		width: 100%

		.label
			width: 1px
			padding-right: 18px
			text-align: left

		td
			padding: 7px 14px 8px

p
	&:first-child
		margin-top: 0

	&:last-child
		margin-bottom: 0

.articlesTable
	width: 100%

	tbody
		td
			padding: 5px 12px
			vartical-align: middle

		tr
			&:hover
				td
					opacity: 1
	td
		width: 0px
		white-space: nowrap
		text-align: center

	tr.activeArticle
		td
			opacity: 1 !important

		.titleButton
			color: $activeColor * 1.1

	.buttonsCell
		opacity: 0.5

		a
			margin-top: -5px
			margin-bottom: -5px

	.timeCell, .idCell
		opacity: 0.65
		font-size: 12px
		color: $color * 1.3

	.idCell, .titleButton
		padding: 5px 8px

	.idCell
		padding-right: 3px
		font-size: 11px

	.titleCell
		padding: 0
		width: auto
		white-space: normal

	.titleCell, .timeCell
		text-align: left


	.titleButton
		font-size: 14px
		font-weight: 600
		border: 0
		color: #444
		display: block
		border-radius: 6px

		&:hover
			color: $activeColor

.inlineTabs
	$borderColor = #f2f2f2

	padding: 0 12px
	border-bottom: 2px solid $borderColor
	display: inline-block
	clear: both
	margin-bottom: 8px

	[data-tab]
		display: inline-block
		padding: 5px 18px 4px
		margin-right: 4px
		vertical-align: bottom

		font-size: 12px
		border: 1px dotted $borderColor
		border-bottom: 0
		border-radius: 4px 4px 0 0
		background-color: transparent
		//text-transform: uppercase
		color: $color + #202020
		text-shadow: 0 1px 0 #fff

		&:last-child
			margin-right: 0

		&:hover
			cursor: pointer
			color: $color

		&[data-active]
			padding-top: 6px
			padding-bottom: 7px
			margin-bottom: -2px

			background-color: $bodyBgColor
			border-color: $borderColor - #050505
			border-top-color: $borderColor
			border-style: solid
			border-top-width: 2px
			color: $labelColor

html, .loginPage, .centerer
	height: 100%
	width: 100%

.loginPage
	display: table

	.centerer
		display: table-cell
		text-align: center
		vertical-align: middle

		.loginTable
			margin: 0 auto
			max-width: 500px

			input
				width: 100%
				padding: 4px 12px
				background-color: #f9f9f9
				border: 2px solid #eee

.button.button-danger
	border-color: #F2D4D4 #EFBCBC #EDA5A5

.inputControls
	padding: 8px
	background-color: alpha( #000, 3.5% )
	width: 48.5% !important
	margin-right: 30px
	margin-top: 10px

	.col.button
		text-align: center
		padding-bottom: 7px !important
		color: #888

		&:first-child
			border-right: 0

.logoutButton
	color: #E27373

	&:hover
		color: lighten( @color, 75% )
		cursor: pointer